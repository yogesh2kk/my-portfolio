<section id="contact" class="w-full py-12 border-t border-[#ffffff10]">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-lg text-[var(--sec)] mb-2 shiny-sec">Let's connect</h2>
    <h3 class="text-4xl md:text-5xl font-medium text-[var(--white)] mb-6">
      Contact
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="text-[var(--white-icon)]">
        <p class="mb-4">
          I’m open to opportunities in data science, analytics, and quantitative
          research. If you’d like to collaborate, discuss projects, or explore
          potential roles, feel free to reach out.
        </p>

        <div class="flex items-center gap-2 mb-2">
          <span>Location:</span>
          <span class="text-[var(--white)]">Vienna, Austria</span>
        </div>

        <div class="flex items-center gap-2 mb-2">
          <span>Email:</span>
          <span class="text-[var(--white)]">yogesh2kk@gmail.com</span>
        </div>

        <div class="flex items-center gap-2">
          <span>Phone:</span>
          <span class="text-[var(--white)]">+43 699 81433536</span>
        </div>
      </div>

      <div>
        <form
          id="contact-form"
          class="flex flex-col gap-4"
        >
          <input
            type="text"
            name="from_name"
            placeholder="Name"
            autocomplete="name"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
          />

          <input
            type="email"
            name="reply_to"
            placeholder="Email"
            autocomplete="email"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
          />

          <textarea
            name="message"
            placeholder="Message"
            rows="6"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)] resize-none"
          ></textarea>

          <button
            id="send-btn"
            type="submit"
            class="px-4 py-2 bg-[var(--white-icon-tr)] text-[var(--white)] rounded-lg opacity-60 transition-opacity border border-[var(--white-icon-tr)] hover:opacity-100 hover:bg-[var(--white-icon-tr)]"
          >
            Send message
          </button>
        </form>

        <div
          id="form-message"
          class="hidden justify-center items-center mt-4 text-[var(--white)] text-lg"
        >
          ✅ Thank you for your message!
        </div>

        <div
          id="form-error"
          class="hidden justify-center items-center mt-4 text-red-400 text-sm"
        >
          ❌ Sorry — your message could not be sent. Please try again or email me directly.
        </div>
      </div>
    </div>
  </div>
</section>

<!-- EmailJS (browser SDK) -->
<script
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
  is:inline
></script>

<script type="module" is:inline>
  const SERVICE_ID = "service_li6hcnw";
  const TEMPLATE_ID = "template_t7x55he";
  const PUBLIC_KEY = "o16skZh9vI8RZtdtv";

  const form = document.getElementById("contact-form");
  const formMessage = document.getElementById("form-message");
  const formError = document.getElementById("form-error");
  const sendBtn = document.getElementById("send-btn");

  // Safety checks
  if (!form) {
    console.error("Contact form not found: #contact-form");
  } else {
    // init EmailJS
    emailjs.init(PUBLIC_KEY);

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      // UI state
      formMessage.classList.add("hidden");
      formError.classList.add("hidden");
      sendBtn.setAttribute("disabled", "true");
      sendBtn.classList.add("opacity-40", "cursor-not-allowed");
      sendBtn.textContent = "Sending...";

      try {
        // sendForm maps input name="" values to your template variables:
        // from_name, reply_to, message
        await emailjs.sendForm(SERVICE_ID, TEMPLATE_ID, form);

        form.reset();
        form.style.display = "none";
        formMessage.classList.remove("hidden");
      } catch (err) {
        console.error("EmailJS error:", err);
        formError.classList.remove("hidden");
      } finally {
        sendBtn.removeAttribute("disabled");
        sendBtn.classList.remove("opacity-40", "cursor-not-allowed");
        sendBtn.textContent = "Send message";
      }
    });
  }
</script>